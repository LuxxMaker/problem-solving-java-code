# 1726. Tuple with Same Product

## Problem Description

Given an array nums of distinct positive integers, return the number of tuples (a, b, c, d) such that a * b = c * d where a, b, c, and d are elements of nums, and a != b != c != d.

```
Example1

Input: nums = [2,3,4,6]
Output: 8
Explanation: There are 8 valid tuples:
(2,6,3,4) , (2,6,4,3) , (6,2,3,4) , (6,2,4,3)
(3,4,2,6) , (4,3,2,6) , (3,4,6,2) , (4,3,6,2)


Example2

Input: nums = [1,2,4,5,10]
Output: 16
Explanation: There are 16 valid tuples:
(1,10,2,5) , (1,10,5,2) , (10,1,2,5) , (10,1,5,2)
(2,5,1,10) , (2,5,10,1) , (5,2,1,10) , (5,2,10,1)
(2,10,4,5) , (2,10,5,4) , (10,2,4,5) , (10,2,5,4)
(4,5,2,10) , (4,5,10,2) , (5,4,2,10) , (5,4,10,2)
```

## Solution

주어진 각각 다른 숫자에 대해서 2개씩 pair를 만들어 총 2개 pair을 만들고, 각각의 pair끼리의 곱이 같은 조합을 구하는 문제이다.

일단 모든 숫자값들을 2개씩 곱해 보면 각각의 값이 나오는데, 그 값들이 동일한 값이 2개 이상이라면, 그 값들의 조합이 2 pair 이상 이라는 의미이므로 2개 이상인 동일한 2 pair 곱을 세서 그 조합을 구하면 답이 나온다. 


처음 시도에서는 그렇게 각각 2개씩 곱을 해서 그 곱한 값이 총 몇개 나왔는지 구하고, 그 구한 값이 2이상이라면 nC2 조합을 계산해서 구했다. 하지만 다른 사람들이 푼 코드를 보니 nC2를 한게 아니라 바로 그 카운팅 된 값을 더하는 방식으로 코드를 작성했다. 그 이유는 nC2의 공식을 보면 알 수 있다. 

```
nC2 = n x (n-1) / (2 X 1)
```

```
1 ~ n = n x (n+1) / (2 X 1) 

n x (n-1) / 2 =  n x (n+1) / 2 - n
n x (n-1) = n x (n-1)
```

즉 1 ~ n-1 까지의 합은 nC2의 값과 동일하다는 것이 나온다. 이것을 이용하면 먼저 카운팅을 다 센다음에 다시 카운팅 집합을 순회하면서 값을 구할 필요없이 카운팅을 세틑 순간에 +1 하기 이전 값들의 합을 구하는 것 만으로도 결과값이 나온다는 것을 쉽게 알수 있다. 

`x8` 의 경우는 2개의 숫자가 각각 들어있는 2개의 pair을 구하면 2 x 2 x 2  해서 총 배치 가능한 수열이 8개가 되기 때문에 8을 곱한다.    